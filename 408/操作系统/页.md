
## 页式虚拟存储
虚拟地址 -> 物理地址
一般用页表和内存管理单元(MMU)

## 段式

## MMU
内存管理单元（Memory Management Unit, MMU）是计算机硬件的一个组件，主要负责虚拟内存和物理内存之间的地址转换。MMU的主要功能和作用包括：
1. 地址转换
- **虚拟地址到物理地址的转换**：当程序访问内存时，它使用虚拟地址。MMU负责将这些虚拟地址转换为实际的物理内存地址。
- **页表管理**：为了进行地址转换，MMU使用页表，这是一种数据结构，存储了虚拟地址到物理地址的映射信息。
2. 内存保护
- **隔离不同程序的地址空间**：通过使用虚拟内存，MMU确保一个程序不能直接访问另一个程序的内存，从而增强了系统的稳定性和安全性。
- **实现只读、读写保护**：MMU可以为不同的内存区域设置不同的访问权限（例如，只读、读写等），以防止程序意外或恶意修改关键数据。
3. 内存管理
- **支持虚拟内存**：即使物理内存已经用尽，MMU也能通过使用硬盘空间来模拟更多的内存，这就是虚拟内存的概念。
- **页替换和缓存管理**：当发生页缺失（访问的虚拟地址对应的物理内存页不在内存中）时，MMU协助操作系统决定哪些数据应该从内存中移出，以便为新的数据腾出空间。



## 分配策略(内存管理)
1. 固定分配+局部置换
- **固定分配** (适用于实时系统，其中进程对延迟非常敏感)
每个进程开始时被分配了一定数量内存, 程序运行期间不会改变
- **局部置换** (简化了管理，但可能不那么有效率)
当进程需要更多的内存, 只能在自己的内存区域置换

2. 可变分配+全局置换
- **可变分配** (对内存需求波动较大)
动态分配内存
- **全局置换** (允许操作系统更有效地利用内存)
可以替换掉系统中任意进程的页面
3. 可变分配+局部置换
- **可变分配**
- **局部置换**



## TLB(Translation Lookaside Buffer)
一种缓存, 加速虚拟地址到物理地址的转换过程

### 特点
1. 快速地址转换
TLB中存储了一部分地址的映射(有就是命中, 没有就是未命中)
2. 局部性原理
程序倾向于访问最近访问过的数据和附近的数据, 所以TLB存储最近使用的地址映射
3. 不同级别
不同级别的TLB, L1 TLB(一般来说16KB - 128KB), L2 TLB(128KB - 4MB), L3 TLB(不一定有, 几MB - 几十MB)



## LRU算法 (Last Recently Used)
最近最少使用算法

## FIFO (First in First out)
先进先出
FIFO（先进先出）算法主要关注数据进入缓存的时间顺序，而不是数据项的使用频率或最近的访问历史。当使用FIFO算法管理缓存时，如果请求的数据块已经在缓存中，那么通常的行为是简单地重新使用这个缓存块，并不会改变该缓存块在队列中的位置。

## LFU Least Frequently Used
最少使用

## MFU Most Frequently Used
基于这样一种假设：系统内频繁访问的页可能是刚刚被加载进来的，因此它们可能不再会被访问。这种假设是根据这样一个观察得出的：一些页仅在初始化阶段被大量访问，之后就很少被用到。在这种情况下，MFU算法认为访问次数最少的页可能包含了长期以来经常被访问的重要数据。
离谱!